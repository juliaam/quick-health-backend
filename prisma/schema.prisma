generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model clinical_information {
  clinical_information_id      Int      @id(map: "clinical_information_id_key") @default(autoincrement())
  name                         String?
  last_name                    String?
  gender_sex                   String?
  emergency_contact            String?
  blood_type                   String?
  allergy                      String?
  medicines_used               String?
  illness                      String?
  surgery                      String?
  created_at                   DateTime? @db.Date
  clinical_information_user_id Int      @unique
  user                         user     @relation(fields: [clinical_information_user_id], references: [user_id], onDelete: Cascade, onUpdate: NoAction, map: "clinical_information_user_id")
  qr_code                      qr_code?
}

model qr_code {
  id_qr_code              Int      @id(map: "id_qr_code_key") @default(autoincrement())
  base64                  String?
  acess_key               String?
  clinical_information_id Int      @unique
  clinical_information    clinical_information @relation(fields: [clinical_information_id], references: [clinical_information_id], onDelete: Cascade)
}

model user {
  user_id              Int                  @id(map: "user_id_key") @default(autoincrement())
  email                String               @unique @db.VarChar
  password             String               @db.VarChar
  name                 String               @db.VarChar
  clinical_information clinical_information?
}